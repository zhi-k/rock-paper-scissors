<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    function computerPlay() {
        let x = ( (Math.random() * 100) + 1);
        let select;

        if (x > 65) {
            select = 'ROCK';
        } else if (x > 35) {
            select = 'SCISSORS';
        } else {
            select = 'PAPER';
        }
        return select;
    }

    function playerInput(string) {
        string = prompt('ROCK/PAPER/SCISSORS?');
        return string.toUpperCase();
    }

    function playRound(playerSelect, computerSelect) {
        let result;
        playerSelect = playerInput();
        computerSelect = computerPlay()
        //check if player typed in correct word
        let allowedWords = ['ROCK', 'PAPER', 'SCISSORS']
        let cond;
        for (let i=0; i < allowedWords.length; i++){
            if(allowedWords[i].indexOf(playerSelect) != -1) {
                cond = true;
             }
        }
        
            if (cond == true) {  
            // Scenario player win
            if (playerSelect == 'ROCK' && computerSelect == 'SCISSORS') {
                result = 'You Win! Rock beats Scissors';
                playWin();
            } else if (playerSelect == 'PAPER' && computerSelect == 'ROCK') {
                result = 'You Win! Paper beats Rock';
                playWin();
            } else if (playerSelect == 'SCISSORS' && computerSelect == 'PAPER') {
                result = 'You Win! Scissors beats Paper';
                playWin();
            // Scenario player lose
            } else if (playerSelect == 'ROCK' && computerSelect == 'PAPER') {
                result = 'You Lose! Paper beats Rock'; 
                compWin();
            } else if (playerSelect == 'PAPER' && computerSelect == 'SCISSOR') {
                result = 'You Lose! Scissors beats Paper';
                compWin();
            } else if (playerSelect == 'SCISSORS' && computerSelect == 'ROCK') {
                result = 'You Lose! Rock beats Scissors';
                compWin(); 
            // Otherwise Tie    
            } else {
                let tie = 'Tie! Another Round!'; 
                console.log(tie);
                return playRound(playerSelect, computerSelect);  
        }
        return console.log(result);
    }
    alert('Please type either rock/scissors/paper!');
    playRound();
    }        

    let play = 0;
    let comp = 0;

    function playWin() {
        play++;
        return play;
    }

    function compWin() {
        comp++;
        return comp;
    }

    function game() {
        
        const totalGames = 5;

        for (let i = 0; i < totalGames; i++) {
            playRound();
        }
    } 

    let decideWinner = (a, b) => {
        (a > b) ? 
        alert("Congrats! You Win The Game!!") :
        alert('You Lose!! Please Try Again!!');
    }

    game();
    decideWinner(play, comp);


</script>
</html>